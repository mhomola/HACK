import pandas as pd
import numpy as np
from EnergySplit import LHV_hack, MR_h2, MR_ker, ER_h2, ER_ker

class DataFrame:
    def __init__(self):
        self.neo =\
            pd.DataFrame(data=np.array([#['M0', 0.05, 0.15, 0.2, 0.78, 0.2, 0.05, 0],
                                        #['h', 0, 0, 3500, 11280, 3500, 0, 0],
                                        ['M0', 0.038, 0.12, 0.497, 0.78, 0.47, 0.038, 0],
                                        ['h', 0, 0, 5800, 11600, 5800, 0, 0],
                                        ['Thrust', 1, 1, 1, 1, 1, 1, 1],
                                        # ['A_eff/fan', 4.6, 4.1, 2.5, 0.9, 2.5, 4.6, 4.8 ],    # M2 = 0.6
                                        # ['A_eff/fan', 4.1, 3.5, 2.2, 0.8, 2.2, 4.1, 4.4 ],    # M2 = 0.5
                                        #['A_eff/fan', 3.75, 3.25, 2.05, 0.65, 2.05, 3.75, 4],   # M2 = 0.45
                                        ['A_eff/fan', 4.2, 3.5, 1, 0.8, 1.05, 4.2, 4.4], # M2 = 0.5, new Mach
                                        # ['A_eff/fan', 3.4, 3, 1.9, 0.5, 1.9, 3.4, 3.6],       # M2 = 0.4
                                        ['eta_inlet', 0.92, 0.92, 0.92043, 0.92086, 0.92043, 0.92, 0.92],
                                        ['PR_fan', 1.4, 1.4, 1.403, 1.4206, 1.403, 1.4, 1.4],
                                        ['eta_fan', 0.93, 0.93, 0.9197225, 0.909445, 0.9197225, 0.93, 0.93],
                                        ['BPR', 11.1, 11.1, 11.17213, 11.24426, 11.17213, 11.1, 11.1],
                                        ['eta_LPC', 0.92, 0.92, 0.910095, 0.90019, 0.910095, 0.92, 0.92],
                                        ['eta_HPC', 0.9774, 0.9774, 0.966045, 0.95469, 0.966045, 0.9774, 0.9774],
                                        ['PR_LPC', 1.99241, 1.99241, 2.3433, 2.69419, 2.3433, 1.99241, 1.99241],
                                        ['PR_HPC', 11.92999, 11.92999, 10.8339, 9.73784, 10.8339, 11.92999, 11.92999],
                                        ['eta_mech', 0.99, 0.99, 0.99, 0.99, 0.99, 0.99, 0.99],
                                        ['eta_cc', 0.995, 0.995, 0.995, 0.995, 0.995, 0.995, 0.995], # that of LEAP-1B
                                        ['PR_cc', 0.94, 0.94, 0.939765, 0.93953, 0.939765, 0.94, 0.94],
                                        ['T04', 1630.39, 1630.39, 1544.847, 1459.304, 1544.847, 1630.39, 1630.39],
                                        ['eta_LPT', 0.94, 0.94, 0.94025, 0.9405, 0.94025, 0.94, 0.94],
                                        ['eta_HPT', 0.94, 0.94, 0.9364, 0.9328, 0.9364, 0.94, 0.94],
                                        ['PR_LPT', 0.157178, 0.157178, 0.141717, 0.12626, 0.141717, 0.157178, 0.157178],
                                        ['PR_HPT', 0.261226, 0.261226, 0.261526, 0.261826, 0.261526, 0.261226, 0.261226],
                                        ['eta_nozzle', 0.98, 0.98, 0.9809, 0.9818, 0.9809, 0.98, 0.98],
                                        ['PR_noz_core', 0.99, 0.99, 0.98772, 0.985443, 0.98772, 0.99, 0.99],
                                        ['PR_noz_fan', 0.99, 0.99, 0.988722, 0.987444, 0.988722, 0.99, 0.99],
                                        ['mr_h2', 0, 0, 0, 0, 0, 0, 0],
                                        ['mr_ker', 1, 1, 1, 1, 1, 1, 1],
                                        ['ER_h2', 0, 0, 0, 0, 0, 0, 0],
                                        ['ER_ker', 1, 1, 1, 1, 1, 1, 1],
                                        ['LHV', 43, 43, 43, 43, 43, 43, 43] ]),
                                columns=['parameter', 'taxi_out', 'take_off', 'climb', 'cruise', 'approach', 'taxi_in', 'idle'])



        self.hack = \
            pd.DataFrame(data=np.array([['M0', 0.038, 0.12, 0.497, 0.78, 0.47, 0.038, 0],
                                        ['h', 0, 0, 5800, 11600, 5800, 0, 0],
                                        ['Thrust', 1, 1, 1, 1, 1, 1, 1],
                                        ['A_eff/fan', 4.2, 3.5, 1, 0.8, 1.05, 4.2, 4.4], # M2 = 0.5
                                        ['eta_inlet', 0.92, 0.92, 0.92043, 0.92086, 0.92043, 0.92, 0.92],
                                        ['PR_fan', 1.4, 1.4, 1.403, 1.4206, 1.403, 1.4, 1.4],
                                        ['eta_fan', 0.93, 0.93, 0.9197225, 0.909445, 0.9197225, 0.93, 0.93],
                                        ['BPR', 11.1, 11.1, 11.17213, 11.24426, 11.17213, 11.1, 11.1],
                                        ['eta_LPC', 0.92, 0.92, 0.910095, 0.90019, 0.910095, 0.92, 0.92],
                                        ['eta_HPC', 0.9774, 0.9774, 0.966045, 0.95469, 0.966045, 0.9774, 0.9774],
                                        ['PR_LPC', 1.99241, 1.99241, 2.3433, 2.69419, 2.3433, 1.99241, 1.99241],
                                        ['PR_HPC', 11.92999, 11.92999, 10.8339, 9.73784, 10.8339, 11.92999, 11.92999],
                                        ['eta_mech', 0.99, 0.99, 0.99, 0.99, 0.99, 0.99, 0.99],
                                        ['eta_cc', 0.995, 0.995, 0.995, 0.995, 0.995, 0.995, 0.995],  # that of LEAP-1B
                                        ['PR_cc', 0.94, 0.94, 0.939765, 0.93953, 0.939765, 0.94, 0.94],
                                        ['T04', 1630.39, 1630.39, 1544.847, 1459.304, 1544.847, 1630.39, 1630.39],
                                        # ['T04', 1650.39, 1650.39, 1564.847, 1479.304, 1564.847, 1650.39, 1650.39], # +10K/year (from article)
                                        ['eta_LPT', 0.94, 0.94, 0.94025, 0.9405, 0.94025, 0.94, 0.94],
                                        ['eta_HPT', 0.94, 0.94, 0.9364, 0.9328, 0.9364, 0.94, 0.94],
                                        ['PR_LPT', 0.157178, 0.157178, 0.141717, 0.12626, 0.141717, 0.157178, 0.157178],
                                        ['PR_HPT', 0.261226, 0.261226, 0.261526, 0.261826, 0.261526, 0.261226, 0.261226],
                                        ['eta_nozzle', 0.98, 0.98, 0.9809, 0.9818, 0.9809, 0.98, 0.98],
                                        ['PR_noz_core', 0.99, 0.99, 0.98772, 0.985443, 0.98772, 0.99, 0.99],
                                        ['PR_noz_fan', 0.99, 0.99, 0.988722, 0.987444, 0.988722, 0.99, 0.99],
                                        ['mr_h2', MR_h2[0], MR_h2[1], MR_h2[2], MR_h2[3], MR_h2[4], MR_h2[5], MR_h2[6]],
                                        ['mr_ker', MR_ker[0], MR_ker[1], MR_ker[2], MR_ker[3], MR_ker[4], MR_ker[5], MR_ker[6]],
                                        ['ER_h2', ER_h2[0], ER_h2[1], ER_h2[2], ER_h2[3], ER_h2[4], ER_h2[5], ER_h2[6]],
                                        ['ER_ker', ER_ker[0], ER_ker[1], ER_ker[2], ER_ker[3], ER_ker[4], ER_ker[5], ER_ker[6]],
                                        ['LHV', LHV_hack[0], LHV_hack[1], LHV_hack[2], LHV_hack[3], LHV_hack[4], LHV_hack[5], LHV_hack[6]]
                                        ], dtype="object"),
                         columns=['parameter', 'taxi_out', 'take_off', 'climb', 'cruise', 'approach', 'taxi_in', 'idle'])

if __name__ == '__main__':
    df_neo = DataFrame().neo
    df_hack = DataFrame().hack
    col_neo = list(df_neo.columns)
    col_hack = list(df_hack.columns)

    N = open('engine_data_neo.txt', 'w')
    for c in range(len(col_neo)):
        N.write(col_neo[c] + '\t')
    N.write('\n')
    for i in range(len(df_neo.values)):
        for j in range(len(df_neo.values[i])):
            N.write(str(df_neo.values[i][j]) + '\t')
        N.write('\n')
    N.close()

    H = open('engine_data_hack.txt', 'w')
    for c in range(len(col_hack)):
        H.write(col_hack[c] + '\t')
    H.write('\n')
    for i in range(len(df_hack.values)):
        for j in range(len(df_hack.values[i])):
            H.write(str(df_hack.values[i][j]) + '\t')
        H.write('\n')
    H.close()
